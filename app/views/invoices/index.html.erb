<%= render 'shared/navbar' %>

<div class="container">

  <h1>Listing Invoices</h1>

  <div class="row">
    <%= form_tag invoices_path, method: :get do %>
      <div class="col-md-7">
        <h4>Search date:</h4>
      </div>
      <div class="col-md-2">
        <p><%= text_field_tag 'search[date_from]', @search.date_from, class: 'col-md-12' %></p>
      </div>
      <div class="col-md-2">
        <p><%= text_field_tag 'search[date_to]', @search.date_to, class: 'col-md-12' %></p>
      </div>
      <div class="col-md-1">
        <p><%= submit_tag 'Search', class: 'btn search-button btn-primary' %></p>
      </div>
    <% end %>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-condensed">
      <thead>
        <tr>
          <th>Date</th>
          <th>Company</th>
          <th>Tax</th>
          <th>Salesperson</th>
          <th>Status</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @invoices.each do |invoice| %>
          <tr>
            <td><%= invoice.date %></td>
            <td><%= invoice.company %></td>
            <td><%= invoice.tax %></td>
            <td><%= invoice.employee.name %></td>
            <td><%= invoice.status_type %></td>
            <td><%= link_to 'Show', invoice, class: 'btn btn-info' %></td>
            <td><%= link_to 'Edit', edit_invoice_path(invoice), class: 'btn btn-warning' %></td>
            <td><%= link_to 'Delete', invoice, method: :delete, class: 'btn btn-danger', data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <br>

  <%= link_to 'New Invoice', new_invoice_path, class: 'btn btn-primary' %>
  
</div>


